<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KPI Dashboard - Task Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const Calculator = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="4" y="2" width="16" height="20" rx="2"/>
                <line x1="8" y1="6" x2="16" y2="6"/>
                <line x1="16" y1="14" x2="16" y2="14.01"/>
                <line x1="12" y1="14" x2="12" y2="14.01"/>
                <line x1="8" y1="14" x2="8" y2="14.01"/>
                <line x1="16" y1="18" x2="16" y2="18.01"/>
                <line x1="12" y1="18" x2="12" y2="18.01"/>
                <line x1="8" y1="18" x2="8" y2="18.01"/>
            </svg>
        );

        const Filter = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
            </svg>
        );

        const Calendar = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );

        const User = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                <circle cx="12" cy="7" r="4"/>
            </svg>
        );

        const RefreshCw = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="23 4 23 10 17 10"/>
                <polyline points="1 20 1 14 7 14"/>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
        );

        const AlertCircle = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="mx-auto">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        const PerformanceTracker = () => {
            const [data, setData] = useState([]);
            const [selectedName, setSelectedName] = useState('');
            const [startDate, setStartDate] = useState('');
            const [endDate, setEndDate] = useState('');
            const [uniqueNames, setUniqueNames] = useState([]);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState('');
            const [lastUpdated, setLastUpdated] = useState(null);
            const [showUnlistedTasks, setShowUnlistedTasks] = useState(false);

            const departments = {
                'AR Department': ['AD', 'AB', 'BZ', 'GA', 'GG', 'HGB', 'IS', 'JA', 'JM', 'JS', 'KM', 'LG', 'MB', 'MGS', 'NB', 'PT', 'RM', 'SPA', 'MCB', 'MA', 'VR', 'RD', 'LSA'],
                'Outbound Department': ['AMD', 'BM', 'CB', 'CC', 'CDC', 'DMA', 'ED', 'EMP', 'GC', 'GD', 'GP', 'HMA', 'IM', 'ISC', 'JC', 'JI', 'JL', 'JP', 'JRC', 'LL', 'LV', 'NZ', 'PB', 'RG', 'SMS', 'VL', 'WM'],
                'Verification Department': ['CF', 'GZ', 'JCB', 'JTL', 'KR', 'MLC', 'RDS']
            };

            const allAllowedNames = [
                ...departments['AR Department'],
                ...departments['Outbound Department'],
                ...departments['Verification Department']
            ];

            const getDepartment = (name) => {
                for (const [dept, names] of Object.entries(departments)) {
                    if (names.includes(name)) {
                        console.log('Employee:', name, 'Department:', dept);
                        return dept;
                    }
                }
                console.log('Employee:', name, 'Department: Unknown');
                return 'Unknown';
            };

            const SHEET_ID = '1asg-4czF_ITFPxvBpyRcjMLjhjl6XGRk0_FLsrQ4D6g';
            const API_KEY = 'AIzaSyAeiFMlkhhDjEahdKksbS6HomSCbO9iQ50';
            const SHEET_NAME = 'Data';
            const RANGE = 'A:I';

            const tasksList = [
                'Outstanding Claims',
                'Billing Call',
                'Claims Attachments',
                'Claims Not Sent',
                'Entering EOBs',
                'Entering Kleer Payments',
                'Entering Payments',
                "Finalizing Pt's Ledger",
                'Procedure Not Billed (Sent/Batched)',
                'Receiving PA/SA',
                'Rejected Claims Resubmission',
                'Retrieving EOBs/eChecks',
                'Sending Appeal/MJ',
                'Sending Claims',
                'Sending Statements',
                'Sending to Collection Agency',
                '20MIN Confirmation Call',
                '24HR Confirmation Call',
                'GA',
                'Inbound Appt',
                'Inbound Call',
                'Labslip',
                'Outbound Appt',
                'Outbound Call',
                'Patient Paperworks',
                'Travel PA',
                'Treatment Call',
                'VA',
                'Production',
                'Verification',
                'Collection',
                'Email/Teams Checked',
                'Miscellaneous Tasks'
            ];

            // Mapping of original task names to standardized task names
            const taskMapping = {
                // Aging tasks map to Outstanding Claims
                'aging- closed denied claims': 'Outstanding Claims',
                'aging- closed paid claims': 'Outstanding Claims',
                'aging- resubmit claims': 'Outstanding Claims',
                'aging- review claims': 'Outstanding Claims',
                'aging- voided claims': 'Outstanding Claims',
                
                // Billing calls
                'billing- inbound call': 'Billing Call',
                'billing- outbound call': 'Billing Call',
                
                // PA/SA
                'receiving pre-determination (pa)': 'Receiving PA/SA',
                'receiving service authorization (sa)': 'Receiving PA/SA',
                
                // Sending Claims
                'sending medicaid claims': 'Sending Claims',
                'sending private claims': 'Sending Claims',
                
                // Verification tasks
                'verification (m)': 'Verification',
                'verification (p)': 'Verification',
                'verification tracker update': 'Verification',
                'gathering dental info': 'Verification',
                'gathering insurance info': 'Verification'
            };

            const taskLookup = {};
            tasksList.forEach(taskName => {
                taskLookup[taskName.toLowerCase().trim()] = taskName;
            });
            
            // Add mappings to lookup
            Object.entries(taskMapping).forEach(([original, standard]) => {
                taskLookup[original] = standard;
            });

            const fetchDataFromSheet = async () => {
                setLoading(true);
                setError('');
                
                try {
                    const url = `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/${SHEET_NAME}!${RANGE}?key=${API_KEY}`;
                    const response = await fetch(url);
                    
                    if (!response.ok) {
                        throw new Error(`Failed to fetch data: ${response.statusText}`);
                    }
                    
                    const result = await response.json();
                    const rows = result.values || [];
                    
                    if (rows.length === 0) {
                        throw new Error('No data found in the sheet');
                    }

                    const parsedData = rows.slice(1)
                        .map(row => ({
                            date: row[0] || '',
                            task: row[3] || '',
                            amount: row[4] || '',
                            collectionAmount: row[5] || '',
                            name: row[8] || '',
                            office: row[2] || ''
                        }))
                        .filter(row => {
                            if (!row.name || !row.name.trim() || !row.task || !row.task.trim() || !row.date || !row.date.trim()) {
                                return false;
                            }
                            let cleanName = row.name.trim().replace(/^["']|["']$/g, '');
                            return allAllowedNames.includes(cleanName);
                        });

                    console.log('Sample data rows:', parsedData.slice(0, 5));

                    setData(parsedData);
                    
                    const names = [...new Set(parsedData.map(row => {
                        let name = row.name.trim();
                        name = name.replace(/^["']|["']$/g, '');
                        return name;
                    }))]
                    .filter(n => allAllowedNames.includes(n))
                    .sort();
                    
                    setUniqueNames(names);
                    setLastUpdated(new Date());
                    
                } catch (err) {
                    console.error('Error fetching data:', err);
                    setError(err.message);
                } finally {
                    setLoading(false);
                }
            };

            useEffect(() => {
                fetchDataFromSheet();
            }, []);

            const findTaskName = (taskName) => {
                const normalized = taskName.toLowerCase().trim();
                return taskLookup[normalized] || null;
            };

            const parseDate = (dateStr) => {
                if (!dateStr) return null;
                let date = new Date(dateStr);
                if (isNaN(date.getTime())) {
                    const parts = dateStr.split('/');
                    if (parts.length === 3) {
                        date = new Date(parts[2], parts[0] - 1, parts[1]);
                    }
                }
                if (!isNaN(date.getTime())) {
                    date.setHours(0, 0, 0, 0);
                    return date;
                }
                return null;
            };

            const calculatePerformance = () => {
                if (!selectedName) return null;

                let filtered = data.filter(row => {
                    let rowName = row.name.trim().replace(/^["']|["']$/g, '');
                    return rowName === selectedName;
                });
                
                if (startDate) {
                    const startDateObj = new Date(startDate);
                    startDateObj.setHours(0, 0, 0, 0);
                    filtered = filtered.filter(row => {
                        const rowDate = parseDate(row.date);
                        return rowDate && rowDate >= startDateObj;
                    });
                }
                
                if (endDate) {
                    const endDateObj = new Date(endDate);
                    endDateObj.setHours(23, 59, 59, 999);
                    filtered = filtered.filter(row => {
                        const rowDate = parseDate(row.date);
                        return rowDate && rowDate <= endDateObj;
                    });
                }

                const taskCounts = {};
                const unlistedTasks = {};
                let totalCollectionAmount = 0;
                let totalProductionAmount = 0;
                let totalTasks = 0;
                
                // Determine which department the selected employee belongs to
                const userDepartment = getDepartment(selectedName);
                
                filtered.forEach(row => {
                    const taskName = row.task.trim();
                    const standardTaskName = findTaskName(taskName);
                    
                    if (standardTaskName) {
                        taskCounts[standardTaskName] = (taskCounts[standardTaskName] || 0) + 1;
                        totalTasks++;
                    } else {
                        // Track unlisted tasks
                        unlistedTasks[taskName] = (unlistedTasks[taskName] || 0) + 1;
                        totalTasks++;
                    }
                    
                    // Only count collection amounts for AR Department
                    if (userDepartment === 'AR Department' && taskName.toLowerCase() === 'collection' && row.collectionAmount && row.collectionAmount.toString().trim()) {
                        const cleanAmount = row.collectionAmount.toString().replace(/[$,\s]/g, '').trim();
                        const amount = parseFloat(cleanAmount);
                        if (!isNaN(amount) && amount > 0) {
                            totalCollectionAmount += amount;
                            console.log('Found collection:', amount, 'Task:', taskName, 'Amount string:', row.collectionAmount);
                        }
                    }
                    
                    // Only count production amounts for Outbound Department
                    if (userDepartment === 'Outbound Department' && taskName.toLowerCase() === 'production' && row.amount && row.amount.toString().trim()) {
                        const cleanAmount = row.amount.toString().replace(/[$,\s]/g, '').trim();
                        const amount = parseFloat(cleanAmount);
                        if (!isNaN(amount) && amount > 0) {
                            totalProductionAmount += amount;
                            console.log('Found production:', amount, 'Task:', taskName, 'Amount string:', row.amount);
                        }
                    }
                });

                const sortedTasks = Object.entries(taskCounts).sort((a, b) => a[0].localeCompare(b[0]));
                const sortedUnlistedTasks = Object.entries(unlistedTasks).sort((a, b) => a[0].localeCompare(b[0]));
                
                const overallPerformance = tasksList.length > 0 ? ((Object.keys(taskCounts).length / tasksList.length) * 100).toFixed(0) : 0;
                
                return {
                    taskCounts: sortedTasks,
                    unlistedTasks: sortedUnlistedTasks,
                    totalCollectionAmount: totalCollectionAmount.toFixed(2),
                    totalProductionAmount: totalProductionAmount.toFixed(2),
                    overallPerformance: parseInt(overallPerformance),
                    totalTasks: totalTasks,
                    department: userDepartment
                };
            };

            const getPerformanceColor = (percentage) => {
                const hue = (percentage / 100) * 60;
                return `hsl(${hue}, 85%, 50%)`;
            };

            const performance = calculatePerformance();
            
            // Debug logging
            if (performance && selectedName) {
                console.log('=== DEBUG INFO ===');
                console.log('Selected Name:', selectedName);
                console.log('Department:', performance.department);
                console.log('Should show Collections:', performance.department === 'AR Department');
                console.log('Should show Production:', performance.department === 'Outbound Department');
                console.log('==================');
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 p-8">
                    <div className="max-w-6xl mx-auto">
                        <div className="text-center mb-8">
                            <div className="flex items-center justify-center gap-3 mb-4">
                                <Calculator />
                                <h1 className="text-4xl font-bold text-white">KPI Dashboard</h1>
                            </div>
                            <p className="text-gray-400">Real-time Task Tracking from Google Sheets</p>
                        </div>

                        <div className="bg-slate-800 rounded-xl shadow-lg p-5 mb-6 border border-slate-700">
                            <div className="flex items-center justify-between gap-6 flex-wrap">
                                <div className="flex items-center gap-4 flex-1 min-w-[600px]">
                                    <div className="flex items-center gap-2 text-white font-semibold">
                                        <Filter className="w-5 h-5" />
                                        <span className="text-lg">Filters</span>
                                    </div>
                                    
                                    <div className="flex items-center gap-2 flex-1">
                                        <User className="text-gray-400 w-4 h-4" />
                                        <select
                                            value={selectedName}
                                            onChange={(e) => setSelectedName(e.target.value)}
                                            className="flex-1 p-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        >
                                            <option value="">Select Employee</option>
                                            {uniqueNames.map(name => (
                                                <option key={name} value={name}>{name}</option>
                                            ))}
                                        </select>
                                    </div>
                                    
                                    <div className="flex items-center gap-2 flex-1">
                                        <Calendar className="text-gray-400 w-4 h-4" />
                                        <input
                                            type="date"
                                            value={startDate}
                                            onChange={(e) => setStartDate(e.target.value)}
                                            className="flex-1 p-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                    
                                    <div className="flex items-center gap-2 flex-1">
                                        <Calendar className="text-gray-400 w-4 h-4" />
                                        <input
                                            type="date"
                                            value={endDate}
                                            onChange={(e) => setEndDate(e.target.value)}
                                            className="flex-1 p-2 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                        />
                                    </div>
                                </div>

                                <div className="flex items-center gap-4">
                                    <div className="flex items-center gap-3">
                                        <RefreshCw className="w-5 h-5 text-blue-400" />
                                        <div className="flex flex-col">
                                            <span className="text-lg font-bold text-white">Data Status</span>
                                            {lastUpdated && (
                                                <span className="text-xs text-gray-400">
                                                    Updated: {lastUpdated.toLocaleTimeString()} • <span className="text-green-400">✓ {data.length} records</span>
                                                </span>
                                            )}
                                        </div>
                                    </div>
                                    
                                    <button
                                        onClick={fetchDataFromSheet}
                                        disabled={loading}
                                        className="flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors whitespace-nowrap"
                                    >
                                        <RefreshCw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />
                                        {loading ? 'Refreshing...' : 'Refresh'}
                                    </button>
                                </div>
                            </div>
                            
                            {error && (
                                <div className="mt-3 text-sm text-red-400 flex items-center gap-2">
                                    <AlertCircle className="w-4 h-4" />
                                    {error}
                                </div>
                            )}
                        </div>

                        {performance && selectedName && (
                            <div className="space-y-6">
                                <div className="grid md:grid-cols-3 gap-6">
                                    <div className="relative overflow-hidden bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 rounded-2xl shadow-2xl p-6 border-2 border-emerald-400/50">
                                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"></div>
                                        <div className="absolute bottom-0 left-0 w-24 h-24 bg-black/5 rounded-full -ml-12 -mb-12"></div>
                                        <div className="relative">
                                            <p className="text-emerald-100 text-sm font-medium mb-1">Total Balance Collected</p>
                                            <p className="text-white font-bold text-4xl tracking-tight">
                                                {performance.totalCollectionAmount > 0 
                                                    ? `${parseFloat(performance.totalCollectionAmount).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
                                                    : '$0.00'
                                                }
                                            </p>
                                        </div>
                                    </div>

                                    <div className="relative overflow-hidden bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 rounded-2xl shadow-2xl p-6 border-2 border-blue-400/50">
                                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-16 -mt-16"></div>
                                        <div className="absolute bottom-0 left-0 w-24 h-24 bg-black/5 rounded-full -ml-12 -mb-12"></div>
                                        <div className="relative">
                                            <p className="text-blue-100 text-sm font-medium mb-1">Total Completed Production</p>
                                            <p className="text-white font-bold text-4xl tracking-tight">
                                                {performance.totalProductionAmount > 0 
                                                    ? `${parseFloat(performance.totalProductionAmount).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`
                                                    : '$0.00'
                                                }
                                            </p>
                                        </div>
                                    </div>

                                    <div 
                                        className="relative overflow-hidden rounded-2xl shadow-2xl p-6 border-2 transition-all duration-500"
                                        style={{
                                            backgroundColor: getPerformanceColor(performance.overallPerformance),
                                            borderColor: `${getPerformanceColor(performance.overallPerformance)}80`
                                        }}
                                    >
                                        <div className="absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"></div>
                                        <div className="absolute bottom-0 left-0 w-24 h-24 bg-black/10 rounded-full -ml-12 -mb-12"></div>
                                        <div className="relative">
                                            <p className="text-white/90 text-sm font-medium mb-1">Overall Performance</p>
                                            <p className="text-white font-bold text-4xl tracking-tight">
                                                {performance.overallPerformance}%
                                            </p>
                                            <p className="text-white/80 text-xs mt-2">
                                                {Object.keys(performance.taskCounts).length} of {tasksList.length} unique tasks completed
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div className="bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl shadow-2xl p-8 border border-slate-700/50">
                                    <div className="flex items-center justify-between mb-6 pb-4 border-b border-slate-700/50">
                                        <h3 className="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent flex items-center gap-3">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="url(#blue-gradient)" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                <defs>
                                                    <linearGradient id="blue-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                        <stop offset="0%" stopColor="#60A5FA" />
                                                        <stop offset="100%" stopColor="#A78BFA" />
                                                    </linearGradient>
                                                </defs>
                                                <path d="M9 11l3 3L22 4"/>
                                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                                            </svg>
                                            Tasks Completed
                                        </h3>
                                        <div className="flex items-center gap-3">
                                            <span className="text-sm font-semibold text-slate-400 bg-slate-700/50 px-4 py-2 rounded-full">
                                                {performance.totalTasks} Total Entries
                                            </span>
                                            {performance.unlistedTasks.length > 0 && (
                                                <button
                                                    onClick={() => setShowUnlistedTasks(!showUnlistedTasks)}
                                                    className="flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-full transition-colors text-sm font-semibold"
                                                >
                                                    <span>Other Tasks</span>
                                                    <span className="bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs">
                                                        {performance.unlistedTasks.length}
                                                    </span>
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                    
                                    <div className="grid md:grid-cols-3 lg:grid-cols-4 gap-3">
                                        {performance.taskCounts.map(([taskName, count]) => (
                                            <div key={taskName} className="group relative bg-gradient-to-br from-slate-700/80 to-slate-800/80 backdrop-blur-sm rounded-xl p-3 hover:from-blue-600/20 hover:to-purple-600/20 transition-all duration-300 border border-slate-600/30 hover:border-blue-500/50 hover:shadow-lg hover:shadow-blue-500/10 cursor-pointer">
                                                <div className="flex flex-col gap-2">
                                                    <span className="text-gray-200 text-sm font-medium leading-tight line-clamp-2 group-hover:text-white transition-colors">{taskName}</span>
                                                    <div className="flex items-center justify-between">
                                                        <span className="text-xs text-slate-400 group-hover:text-slate-300">Count</span>
                                                        <span className="bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold px-2.5 py-1 rounded-lg text-sm shadow-md group-hover:shadow-lg group-hover:scale-105 transition-all">{count}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    {showUnlistedTasks && performance.unlistedTasks.length > 0 && (
                                        <div className="mt-6 pt-6 border-t border-slate-700/50">
                                            <h4 className="text-lg font-bold text-yellow-400 mb-4 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                    <circle cx="12" cy="12" r="10"/>
                                                    <line x1="12" y1="16" x2="12" y2="12"/>
                                                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                                                </svg>
                                                Other Tasks (Not in Standard List)
                                            </h4>
                                            <div className="grid md:grid-cols-3 lg:grid-cols-4 gap-3">
                                                {performance.unlistedTasks.map(([taskName, count]) => (
                                                    <div key={taskName} className="group relative bg-gradient-to-br from-yellow-900/30 to-orange-900/30 backdrop-blur-sm rounded-xl p-3 hover:from-yellow-600/20 hover:to-orange-600/20 transition-all duration-300 border border-yellow-600/30 hover:border-yellow-500/50 hover:shadow-lg hover:shadow-yellow-500/10">
                                                        <div className="flex flex-col gap-2">
                                                            <span className="text-yellow-200 text-sm font-medium leading-tight line-clamp-2 group-hover:text-yellow-100 transition-colors">{taskName}</span>
                                                            <div className="flex items-center justify-between">
                                                                <span className="text-xs text-yellow-400/70 group-hover:text-yellow-300">Count</span>
                                                                <span className="bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-bold px-2.5 py-1 rounded-lg text-sm shadow-md group-hover:shadow-lg group-hover:scale-105 transition-all">{count}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    )}

                                    {performance.taskCounts.length === 0 && (
                                        <div className="text-center py-12 text-gray-400">
                                            <AlertCircle />
                                            <p className="mt-3 text-sm">No tasks found for the selected filters</p>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        ReactDOM.render(<PerformanceTracker />, document.getElementById('root'));
    </script>
</body>
</html>
